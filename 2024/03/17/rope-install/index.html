<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta name="google-site-verification" content="eEw6V669AoSRTYx6k8e-WaCx3ZaeY-o43Hv6PBKPzvY" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>干货教程【AI篇】| AI换脸软件Rope搭建环境运行源码详细教程 &mdash; 考拉AI</title><link rel="stylesheet" href="https://koalai.org/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://koalai.org/assets/css/components/collection.css"><link rel="stylesheet" href="https://koalai.org/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://koalai.org/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://koalai.org/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://koalai.org/assets/css/globals/common.css"><link rel="stylesheet" href="https://koalai.org/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://koalai.org/assets/css/posts/index.css"><link rel="stylesheet" href="https://koalai.org/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://koalai.org/rouge-themes/dist/.css"><link rel="canonical" href="https://koalai.org/2024/03/17/rope-install/"><link rel="alternate" type="application/atom+xml" title="考拉AI" href="https://koalai.org/feed.xml"><link rel="shortcut icon" href="https://koalai.org/favicon.jpg"><meta property="og:title" content="干货教程【AI篇】| AI换脸软件Rope搭建环境运行源码详细教程"><meta name="keywords" content="Rope, AI换脸, AI"><meta name="og:keywords" content="Rope, AI换脸, AI"><meta name="description" content="Rope 是一个免费开源的 AI 换脸软件，它具有图形化界面，使得甚至小白也能够轻松地进行简单的操作。该软件提供了多种高清化算法，使用者可以实时观察换脸效果，并且还支持多种遮罩模式以及将多个人脸一起融合的功能。Rope 的官方 GitHub 仓库地址为：https://github.com/Hillobar/Rope"><meta name="og:description" content="Rope 是一个免费开源的 AI 换脸软件，它具有图形化界面，使得甚至小白也能够轻松地进行简单的操作。该软件提供了多种高清化算法，使用者可以实时观察换脸效果，并且还支持多种遮罩模式以及将多个人脸一起融合的功能。Rope 的官方 GitHub 仓库地址为：https://github.com/Hillobar/Rope"><meta property="og:url" content="https://koalai.org/2024/03/17/rope-install/"><meta property="og:site_name" content="考拉AI"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2024-03-17"> <script src="https://koalai.org/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://koalai.org/assets/js/main.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://koalai.org/" title="考拉AI"> 考拉AI</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://koalai.org/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://koalai.org/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://koalai.org/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://koalai.org/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://koalai.org/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://koalai.org/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://koalai.org/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://koalai.org/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://koalai.org/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="干货教程【AI篇】| AI换脸"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">干货教程【AI篇】| AI换脸软件Rope搭建环境运行源码详细教程</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2024/03/17 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://koalai.org/categories/#AI换脸" title="AI换脸">AI换脸</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 2181 字，约 7 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"> <img style="height:72px;width:72px" src="https://koalai.org/assets/images/qrcode.jpg" alt="考拉AI" /></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><p>Rope 是一个免费开源的 AI 换脸软件，它具有图形化界面，使得甚至小白也能够轻松地进行简单的操作。该软件提供了多种高清化算法，使用者可以实时观察换脸效果，并且还支持多种遮罩模式以及将多个人脸一起融合的功能。Rope 的官方 GitHub 仓库地址为：https://github.com/Hillobar/Rope</p><p>网上也有一些Rope的整合包，免去了小白配置环境困难的苦恼，如果你觉得配置Rope的运行环境比较麻烦，可以直接跳到文章后半部分看Rope的使用教程即可。Rope整合包我也打包了一份，可以关注我的微信公众号进行下载 但我个人还是推荐你自己部署一下环境，有以下几点好处：</p><ol><li>市面上的AI工具层出不穷，更新速度极快，如果你想搭上AI这趟顺风车，那学会配置环境是必不可少的，也就能够去配置使用Github上其他的开源AI工具，毕竟不是每一个开源AI工具都是有整合包的。</li><li>Rope是在不断更新的，如果你自己配置的环境，只用通过几行简单的命令就能更新到最新版本，而不用等着别入去给你整合最新版本的安装包</li><li>配置环境也是个学习的过程，你也能够了解到使用这个AI工具需要的一些依赖，有助于解决运行过程中出现的一些问题。如果你使用的是整合包，那么在遇到软件运行上的一些问题时你可能无从下手。</li></ol><p>如果你是一个IT技术人员，那么直接去参考官方安装教程即可：https://github.com/Hillobar/Rope/wiki</p><p>如果你是一个小白，可以看我下面的更为详细的教程</p><p><em>Rope的整合包需要的小伙伴可以<a href="https://koalai.org/about/">点击打开跳转到我的博客</a>，关注微信公众号，回复关键词【<strong>rope</strong>】获取。</em></p><p>整合包详细使用教程参考之前写的<a href="https://blog.csdn.net/qq_17449077/article/details/136782719">这篇博客</a></p><h2 id="rope环境配置和安装">Rope环境配置和安装</h2><ol><li><p>安装Miniconda 如果你的电脑上还没有conda 环境，可以<a href="https://blog.csdn.net/qq_17449077/article/details/136519192">参考我之前的文章</a>去安装conda环境，建议安装Miniconda即可。安装完成后需要设置conda路径到系统环境变量，首先在开始菜单搜索<strong>环境变量</strong>，打开<strong>编辑系统环境变量</strong> <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l8tje67.png" alt="在这里插入图片描述" /> 然后按照以下步骤添加conda 到系统环境变量中，我的路径是：D:\miniconda3\Scripts <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l8v4j73.png" alt="在这里插入图片描述" /> 我们所有的命令都是在Anaconda Prompt 终端执行的，首先需要打开这个终端</p><p>如果你想在window Power Shell中执行，那么需要在第一次运行conda时执行如下命令：</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda init powershell
</code></pre></div></div><p>如果你想到在cmd 中执行，那么你需要第一次运行conda时执行如下命令</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda init cmd.exe
</code></pre></div></div></li><li>下载源码 首先打开<a href="https://git-scm.com/download/win">git官网</a>下载并安装git ，然后下载Rope源码，即执行以下命令。如果你clone的时候失败，可以直接去github下载源码压缩包，解压即可。<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> git clone https://github.com/Hillobar/Rope <span class="c">#clone失败可以下载压缩包解压即可</span>
</code></pre></div></div><p>然后需要进入到源码所在目录（请根据自己的情况替换路径）。即执行以下命令</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd </span>Desktop<span class="se">\g</span>ithub_proj<span class="se">\R</span>ope
</code></pre></div></div></li><li>配置python环境和依赖 Rope要求的python 版本是3.10，首先需要使用conda去新创建一个环境，并指定python版本。即执行以下命令：<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda create <span class="nt">-n</span> Rope <span class="nv">python</span><span class="o">=</span>3.10.13 <span class="nt">-y</span>
</code></pre></div></div><p>然后需要进入新创建的环境。即执行以下命令</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda activate Rope
</code></pre></div></div><p>最后安装需要的依赖包。即执行以下命令</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> python <span class="nt">-m</span> pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div></li><li><p>安装ffmpeg ffmpeg windows版<a href="https://www.gyan.dev/ffmpeg/builds/">官网下载地址</a>，下载以git-full为后缀的 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l8wpl60.png" alt="在这里插入图片描述" /></p><p>下载完成后解压压缩包，复制bin目录路径 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l8yay57.png" alt="在这里插入图片描述" /></p><p>依次按照以下步骤，把bin路径添加到系统环境变量中 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l8zw064.png" alt="在这里插入图片描述" /> 设置完成后打开终端，输入以下命令验证</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ffmpeg <span class="nt">-version</span>
</code></pre></div></div><p>如果显示如下，则说明ffmpeg安装成功 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l91hv12.png" alt="在这里插入图片描述" /></p></li><li><p>安装cuda <a href="https://developer.nvidia.com/cuda-toolkit-archive">点击进入cuda官方下载地址</a> 点击进入，Rope要求下载11.8.0版本的，双击打开此版本 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l933e41.png" alt="在这里插入图片描述" /></p><p>按照如下图所示选择，点击Download进行下载 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l94ot69.png" alt="在这里插入图片描述" /> 下载完成后安装，双击打开，设置安装路径，依次默认安装即可。安装完成后输入以下命令</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> nvcc <span class="nt">-V</span>
</code></pre></div></div><p>如果显示如下，则安装成功 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l969r80.png" alt="在这里插入图片描述" /></p></li><li>安装cudnn <a href="https://developer.nvidia.com/cudnn-downloads">打开cudnn官方下载地址</a>，按照下图选择，点击Download进行下载 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l97um54.png" alt="在这里插入图片描述" /> 下载完成后解压，目录如下，全选，然后全部复制 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l99ft36.png" alt="在这里插入图片描述" /> 进入这个路径C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8，粘贴刚才复制的所有文件到这下面即可完成安装</li></ol><h2 id="rope运行和使用">Rope运行和使用</h2><p>第一次运行的时候需要进行初始化配置，之后双击Rope.bat就可以运行使用了</p><h3 id="rope初始化配置">Rope初始化配置</h3><ol><li><p>在Rope文件夹下新建三个文件夹：videos用于存放需要被换脸的视频；faces用于存放需要换脸的图片；output存放换后的结果。</p></li><li><p><a href="https://github.com/Hillobar/Rope/releases/tag/Sapphire">点击进入</a>这个网站下载所有模型，并放到Rope/models中，目录如下 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l9b0g47.png" alt="在这里插入图片描述" /></p></li><li>修改Rope.bat，用记事本打开，复制替换以下内容到Rope.bat文件中<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> call conda activate Rope
 python Rope.py 
 pause
</code></pre></div></div></li><li>win+r 输入cmd打开终端，输入以下命令回车<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda init cmd.exe
</code></pre></div></div><h2 id="运行rope">运行Rope</h2></li></ol><p>双击Rope.bat，不出意外的话会弹出如下界面，图中三个位置对应设置为刚才创建的三个文件夹 <img src="https://koalai.org/images/2024-03-17-rope-install/lu8l9cls07.png" alt="在这里插入图片描述" /> 详细使用教程参考之前写的<a href="https://blog.csdn.net/qq_17449077/article/details/136782719">这篇博客</a></p><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="https://koalai.org" target="_blank">考拉AI</a></li><li>本文链接：<a href="https://koalai.org/2024/03/17/rope-install/" target="_blank">https://koalai.org/2024/03/17/rope-install/</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"></div><div class="comment"></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://koalai.org/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://koalai.org/assets/search_data.json?v=1711520240', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: { { site.simple_jekyll_search.limit } }, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://koalai.org/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2023 <span title="考拉AI">考拉AI</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/aipangu/aipangu.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://koalai.org/" title="首页" target="">首页</a></li><li> <a href="https://koalai.org/categories/" title="分类" target="">分类</a></li><li> <a href="https://koalai.org/archives/" title="归档" target="">归档</a></li><li> <a href="https://koalai.org/open-source/" title="开源" target="">开源</a></li><li> <a href="https://koalai.org/fragments/" title="片段" target="">片段</a></li><li> <a href="https://koalai.org/wiki/" title="维基" target="">维基</a></li><li> <a href="https://koalai.org/links/" title="链接" target="">链接</a></li><li> <a href="https://koalai.org/about/" title="关于" target="">关于</a></li><li><a href="https://koalai.org/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://koalai.org/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
